plot(lm.fit)
plot(predict(lm.fit), residuals(lm.fit))
plot(predict(lm.fit), rstudent(lm.fit))
plot(hatvalues(lm.fit))
which.max(hatvalues(lm.fit)) # == python idxmax()
fix(Boston)
x <- c(1,2,3,4)
y <- c(3,4,5,6)
ls()
rm(x, y)
ls()
rm(list=ls()) # remove everything at once
x = matrix(data = c(1,2,3,4), nrow = 2, ncol = 2)
x
matrix(c(1,2,3,4), 2, 2, byrow = TRUE)
# set.seed(0)
# So that you can reproduce the result
x = rnorm(50,mean = 0, sd = 1)
y = x + rnorm(50, mean = 50, sd = 0.1)
cor(x, y) # Get the correlation between x and y
var(x)
sd(x)
x = rnorm(100)
y = rnorm(100)
plot(x, y, xlab = 'x-axis', ylab = 'y-axis', main = 'Plot of X vs Y')
pdf('Figure.pdf') # save it as pdf
# jpeg('Figure.jpeg') # save it as jpeg
plot(x, y, col = 'green')
dev.off() # Tell R that we are done creating the plot
x = seq(1, 10) # or x = 1:10
y = x
f = outer(x, y, function(x, y)cos(y)/(1 + x^2))
contour(x, y, f)
image(x, y, f)
persp(x, y, f, theta = 30, phi = 20)
# Theta and phi control the angles at which the plot is viewed
A = matrix(1:16, 4, 4)
A
A[2,3]
A[c(1, 3), c(2, 4)] # Select multiple row and column
A[1:3, 2:4]
A[, 1:2]
A[1:2, ]
A[-2, ] # '-' means except
dim(A) # The dimension of A, 就是python里的shape?
# Auto = read.table('Auto.data', header = T, na.strings = '?')
# dim(Auto) # return the dimension
# Auto = na.omit(Auto) # remove rows with NA
# names(Auto) # Check the variable names
# plot(Auto$, Auto$)
# # 或者不使用$
# attach(Auto)
# plot(column1, column2) # scatter plot if two numerical
# hist(column1, col = 2) # histogram
# pairs(Auto) # scatter plot matrix
# cylinders = as.factor(cylinders)
summary(Auto)
# summary(Auto)
library(MASS)
library(ISLR)
names(Boston)
lm.fit = lm(medv~lstat, data = Boston) # lm: least square linear regression model
# lm(y~x, data)
fix(Boston)
lm.fit = lm(medv~lstat + age, data = Boston) # 如果是multiple的话格式是lm(y~x1+x2+x3)
lm.fit = lm(medv~lstat + age, data = Boston) # 如果是multiple的话格式是lm(y~x1+x2+x3)
summary(lm.fit)
lm.fit = lm(medv~., data = Boston) # use this short-hand!
summary(lm.fit)
lm.fit1 = lm(medv~.-age, data = Boston) # 懂了！就是.-age就好了
summary(lm.fit1)
summary(lm(medv~lstat*age, data = Boston))
# lstat*age is the short-hand for: lstat + age + lstat: age
lm.fit2 = lm(medv~lstat + I(lstat^2), data = Boston)
summary(lm.fit2)
lm.fit = lm(medv~lstat, data = Boston)
anova(lm.fit, lm.fit2)
par(mfrow = c(2, 2))
plot(lm.fit2)
lm.fit5 = lm(medv~poly(lstat, 5))
lm.fit5 = lm(medv~poly(lstat, 5), data = Boston)
summary(lm.fit5)
summary(lm(medb~log(rm), data = Boston))
summary(lm(medv~log(rm), data = Boston))
x <- list(1:3, TRUE, 'Hello', list(1:2, 5))
x[3]
x[[3]]
x <- c(1,2,3,4)
y <- c(3,4,5,6)
ls()
rm(x, y)
ls()
rm(list=ls()) # remove everything at once
x <- list(1:3, TRUE, 'Hello', list(1:2, 5))
x = matrix(data = c(1,2,3,4), nrow = 2, ncol = 2)
x
matrix(c(1,2,3,4), 2, 2, byrow = TRUE)
# set.seed(0)
# So that you can reproduce the result
x = rnorm(50,mean = 0, sd = 1)
y = x + rnorm(50, mean = 50, sd = 0.1)
cor(x, y) # Get the correlation between x and y
var(x)
sd(x)
x = rnorm(100)
y = rnorm(100)
plot(x, y, xlab = 'x-axis', ylab = 'y-axis', main = 'Plot of X vs Y')
pdf('Figure.pdf') # save it as pdf
# jpeg('Figure.jpeg') # save it as jpeg
plot(x, y, col = 'green')
dev.off() # Tell R that we are done creating the plot
x = seq(1, 10) # or x = 1:10
y = x
f = outer(x, y, function(x, y)cos(y)/(1 + x^2))
contour(x, y, f)
image(x, y, f)
persp(x, y, f, theta = 30, phi = 20)
# Theta and phi control the angles at which the plot is viewed
A = matrix(1:16, 4, 4)
A
A[2,3]
A[c(1, 3), c(2, 4)] # Select multiple row and column
A[1:3, 2:4]
A[, 1:2]
A[1:2, ]
A[-2, ] # '-' means except
dim(A) # The dimension of A, 就是python里的shape?
# Auto = read.table('Auto.data', header = T, na.strings = '?')
# dim(Auto) # return the dimension
# Auto = na.omit(Auto) # remove rows with NA
# names(Auto) # Check the variable names
# plot(Auto$, Auto$)
# # 或者不使用$
# attach(Auto)
# plot(column1, column2) # scatter plot if two numerical
# hist(column1, col = 2) # histogram
# pairs(Auto) # scatter plot matrix
# cylinders = as.factor(cylinders)
# summary(Auto)
savehistory() # save a record of all of the commands in the most recent session
library(MASS)
library(ISLR)
names(Boston)
lm.fit = lm(medv~lstat, data = Boston) # lm: least square linear regression model
# lm(y~x, data)
lm.fit
summary(lm.fit)
names(lm.fit) # what kind of info are stored?
coef(lm.fit) # get the coefficient; or lm.fit$coefficients
par(mfrow = c(2, 2)) # split the screen into 4 parts
plot(lm.fit)
plot(predict(lm.fit), residuals(lm.fit))
plot(predict(lm.fit), rstudent(lm.fit))
plot(hatvalues(lm.fit))
which.max(hatvalues(lm.fit)) # == python idxmax()
lm.fit = lm(medv~lstat + age, data = Boston) # 如果是multiple的话格式是lm(y~x1+x2+x3)
summary(lm.fit)
lm.fit = lm(medv~., data = Boston) # use this short-hand!
summary(lm.fit)
lm.fit1 = lm(medv~.-age, data = Boston) # 懂了！就是.-age就好了
summary(lm.fit1)
lm.fit1 = update(lm.fit, ~.-age) #！！
summary(lm(medv~lstat*age, data = Boston))
# lstat*age is the short-hand for: lstat + age + lstat: age
lm.fit2 = lm(medv~lstat + I(lstat^2), data = Boston)
summary(lm.fit2)
lm.fit = lm(medv~lstat, data = Boston)
anova(lm.fit, lm.fit2)
par(mfrow = c(2, 2))
plot(lm.fit2)
# There is little discernible pattern in the residuals
lm.fit5 = lm(medv~poly(lstat, 5), data = Boston)
summary(lm.fit5)
summary(lm(medv~log(rm), data = Boston))
books <- data.frame(author = c("Ripley", 'Cox', 'Snijders', 'Cox'),
year = c(1980, 1979, 1999, 2006),
publihser = c('Wiley', "Chapman", "Sage", "CUP"))
books <- data.frame(author = c("Ripley", 'Cox', 'Snijders', 'Cox'),
year = c(1980, 1979, 1999, 2006),
publihser = c('Wiley', "Chapman", "Sage", "CUP"))
books
setdiff
args(setdiff) # Get the arguments for function
square = function(x) {
x^2
}
square(4)
mean2 <- function(x) {
n <- length(x)
sum(x)/n
}
mean2(1:10)
factorial2 = function(n) {
out = 1
for (i in 1:n) {
out = out * i
}
out
}
factorial2(10)
for (name in 1:4) print(name)
for (name in 1:4)
print(name)
for (name in 1:4):
for (name in 1:4)
print(name)
abs2 = function(x) {
if (x < 0) out = -x
else out = x
out
}
abs2(-4)
abs3 = function(x) {
ifelse(x < 0, -x, x)
}
abs3(2)
abs3 = function(x) {
ifelse(x < 0, -x, x)
}
abs3(2)
abs3(-3)
isPrime = funcion(x) {
isPrime = funcion(x) {
isPrime = funcion(n) {
isPrime = function(n){
i = 2
if (n < 2) return(FALSE)
while (i < sqrt(n)) {
if (n%%i == 0) return(FALSE)
i = i + 1
}
return(TRUE)
}
isPrime(10)
5%%2
10%%3
10%%2
5%%2 # Python: %
2^3 # Python: **
isPrime = function(n){
i = 2
if (n < 2) return(FALSE)
while (i < sqrt(n)) {
if (n%%i == 0) return(FALSE)
i = i + 1
}
return(TRUE)
}
isPrime(10)
isPrime(37)
fib = function(n) {
if (n<2) return(1)
else return(fib(n-1) + fib(n-2))
}
fib(10)
Carseats
getwd()
5%%2 # Python: %
2^3 # Python: **
x <- c(1,2,3,4)
y <- c(3,4,5,6)
ls()
rm(x, y)
ls()
rm(list=ls()) # remove everything at once
x <- list(1:3, TRUE, 'Hello', list(1:2, 5))
x = matrix(data = c(1,2,3,4), nrow = 2, ncol = 2)
x
matrix(c(1,2,3,4), 2, 2, byrow = TRUE)
books <- data.frame(author = c("Ripley", 'Cox', 'Snijders', 'Cox'),
year = c(1980, 1979, 1999, 2006),
publihser = c('Wiley', "Chapman", "Sage", "CUP"))
books
setdiff
args(setdiff) # Get the arguments for function
square = function(x) {
x^2
}
square(4)
mean2 <- function(x) {
n <- length(x)
sum(x)/n
}
mean2(1:10)
factorial2 = function(n) {
out = 1
for (i in 1:n) {
out = out * i
}
out
}
factorial2(10)
for (name in 1:4)
print(name)
abs2 = function(x) {
if (x < 0) out = -x
else out = x
out
}
abs2(-4)
abs3 = function(x) {
ifelse(x < 0, -x, x)
}
abs3(2)
abs3(-3)
isPrime = function(n){
i = 2
if (n < 2) return(FALSE)
while (i < sqrt(n)) {
if (n%%i == 0) return(FALSE)
i = i + 1
}
return(TRUE) # 注意return后面一定要加上括号
}
isPrime(10)
isPrime(37)
fib = function(n) {
if (n<2) return(1)
else return(fib(n-1) + fib(n-2))
}
fib(10) # 斐波那契数列
# set.seed(0)
# So that you can reproduce the result
x = rnorm(50,mean = 0, sd = 1)
y = x + rnorm(50, mean = 50, sd = 0.1)
cor(x, y) # Get the correlation between x and y
var(x)
sd(x)
x = rnorm(100)
y = rnorm(100)
plot(x, y, xlab = 'x-axis', ylab = 'y-axis', main = 'Plot of X vs Y')
pdf('Figure.pdf') # save it as pdf
# jpeg('Figure.jpeg') # save it as jpeg
plot(x, y, col = 'green')
dev.off() # Tell R that we are done creating the plot
x = seq(1, 10) # or x = 1:10
y = x
f = outer(x, y, function(x, y)cos(y)/(1 + x^2))
contour(x, y, f)
image(x, y, f)
persp(x, y, f, theta = 30, phi = 20)
# Theta and phi control the angles at which the plot is viewed
A = matrix(1:16, 4, 4)
A
A[2,3]
A[c(1, 3), c(2, 4)] # Select multiple row and column
A[1:3, 2:4]
A[, 1:2]
A[1:2, ]
A[-2, ] # '-' means except
dim(A) # The dimension of A, 就是python里的shape?
# Auto = read.table('Auto.data', header = T, na.strings = '?')
# dim(Auto) # return the dimension
# Auto = na.omit(Auto) # remove rows with NA
# names(Auto) # Check the variable names
# plot(Auto$, Auto$)
# # 或者不使用$
# attach(Auto)
# plot(column1, column2) # scatter plot if two numerical
# hist(column1, col = 2) # histogram
# pairs(Auto) # scatter plot matrix
# cylinders = as.factor(cylinders)
# summary(Auto)
savehistory() # save a record of all of the commands in the most recent session
library(MASS)
library(ISLR)
names(Boston)
lm.fit = lm(medv~lstat, data = Boston) # lm: least square linear regression model
# lm(y~x, data)
lm.fit
summary(lm.fit)
names(lm.fit) # what kind of info are stored?
coef(lm.fit) # get the coefficient; or lm.fit$coefficients
par(mfrow = c(2, 2)) # split the screen into 4 parts
plot(lm.fit)
plot(predict(lm.fit), residuals(lm.fit))
plot(predict(lm.fit), rstudent(lm.fit))
plot(hatvalues(lm.fit))
which.max(hatvalues(lm.fit)) # == python idxmax()
lm.fit = lm(medv~lstat + age, data = Boston) # 如果是multiple的话格式是lm(y~x1+x2+x3)
summary(lm.fit)
lm.fit = lm(medv~., data = Boston) # use this short-hand!
summary(lm.fit)
lm.fit1 = lm(medv~.-age, data = Boston) # 懂了！就是.-age就好了
summary(lm.fit1)
lm.fit1 = update(lm.fit, ~.-age) #！！
summary(lm(medv~lstat*age, data = Boston))
# lstat*age is the short-hand for: lstat + age + lstat: age
lm.fit2 = lm(medv~lstat + I(lstat^2), data = Boston)
summary(lm.fit2)
lm.fit = lm(medv~lstat, data = Boston)
anova(lm.fit, lm.fit2)
par(mfrow = c(2, 2))
plot(lm.fit2)
# There is little discernible pattern in the residuals
lm.fit5 = lm(medv~poly(lstat, 5), data = Boston)
summary(lm.fit5)
summary(lm(medv~log(rm), data = Boston))
Carseats
lm.fit = lm(Sales~.+Income:Advertising+Price:Age, data = Carseats)
summay(lm.fit)
lm.fit = lm(Sales~.+Income:Advertising+Price:Age, data = Carseats)
summary(lm.fit)
contrasts(Carseats$ShelveLoc)
getwd()
5%%2 # Python: %
2^3 # Python: **
x <- c(1,2,3,4)
y <- c(3,4,5,6)
ls()
rm(x, y)
ls()
rm(list=ls()) # remove everything at once
x <- list(1:3, TRUE, 'Hello', list(1:2, 5))
x = matrix(data = c(1,2,3,4), nrow = 2, ncol = 2)
x
matrix(c(1,2,3,4), 2, 2, byrow = TRUE)
books <- data.frame(author = c("Ripley", 'Cox', 'Snijders', 'Cox'),
year = c(1980, 1979, 1999, 2006),
publihser = c('Wiley', "Chapman", "Sage", "CUP"))
books
setdiff
args(setdiff) # Get the arguments for function
square = function(x) {
x^2
}
square(4)
mean2 <- function(x) {
n <- length(x)
sum(x)/n
}
mean2(1:10)
factorial2 = function(n) {
out = 1
for (i in 1:n) {
out = out * i
}
out
}
factorial2(10)
for (name in 1:4)
print(name)
abs2 = function(x) {
if (x < 0) out = -x
else out = x
out
}
abs2(-4)
abs3 = function(x) {
ifelse(x < 0, -x, x)
}
abs3(2)
abs3(-3)
isPrime = function(n){
i = 2
if (n < 2) return(FALSE)
while (i < sqrt(n)) {
if (n%%i == 0) return(FALSE)
i = i + 1
}
return(TRUE) # 注意return后面一定要加上括号
}
isPrime(10)
isPrime(37)
fib = function(n) {
if (n<2) return(1)
else return(fib(n-1) + fib(n-2))
}
fib(10) # 斐波那契数列
# set.seed(0)
# So that you can reproduce the result
x = rnorm(50,mean = 0, sd = 1)
y = x + rnorm(50, mean = 50, sd = 0.1)
cor(x, y) # Get the correlation between x and y
var(x)
sd(x)
x = rnorm(100)
y = rnorm(100)
plot(x, y, xlab = 'x-axis', ylab = 'y-axis', main = 'Plot of X vs Y')
pdf('Figure.pdf') # save it as pdf
# jpeg('Figure.jpeg') # save it as jpeg
plot(x, y, col = 'green')
dev.off() # Tell R that we are done creating the plot
x = seq(1, 10) # or x = 1:10
y = x
f = outer(x, y, function(x, y)cos(y)/(1 + x^2))
contour(x, y, f)
image(x, y, f)
persp(x, y, f, theta = 30, phi = 20)
# Theta and phi control the angles at which the plot is viewed
A = matrix(1:16, 4, 4)
A
A[2,3]
A[c(1, 3), c(2, 4)] # Select multiple row and column
A[1:3, 2:4]
A[, 1:2]
A[1:2, ]
A[-2, ] # '-' means except
dim(A) # The dimension of A, 就是python里的shape?
# Auto = read.table('Auto.data', header = T, na.strings = '?')
# dim(Auto) # return the dimension
# Auto = na.omit(Auto) # remove rows with NA
# names(Auto) # Check the variable names
# plot(Auto$, Auto$)
# # 或者不使用$
# attach(Auto)
# plot(column1, column2) # scatter plot if two numerical
# hist(column1, col = 2) # histogram
# pairs(Auto) # scatter plot matrix
# cylinders = as.factor(cylinders)
# summary(Auto)
savehistory() # save a record of all of the commands in the most recent session
